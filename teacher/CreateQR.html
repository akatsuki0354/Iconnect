<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css"
    integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
  <link rel="stylesheet" href="/Style/student/studenthome.css">
  <link rel="icon" type="image/x-icon" href="/img/icon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="viewport" content="width=device-width, user-scalable=no">
  <link href="https://fonts.googleapis.com/css?family=Major+Mono+Display" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcode-generator/1.4.1/qrcode.js"> </script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"> </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"> </script>
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css"
    integrity="sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP" crossorigin="anonymous">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.qrcode/1.0/jquery.qrcode.min.js"> </script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
  <link rel="stylesheet" href="/Style/teacher/teacherhome.css">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-secondary">
        <i class="fas fa-user" class="fas"></i>
        <a class="navbar-brand" id="hh" href="#">ICONnect</a>
        <ul class="navbar-nav mr-auto">
          <a href="#">Manual</a>
          <a href="QR-Attendance.html" class="">QR-Attendance</a>
        </ul>
        <a id="userlink" class="nav-link user" href="">Username</a>
        <a id="signoutlink" class="nav-link" href="">Signout</a>
      </nav>
    <div class="main">
        <div class="qr-box alert alert-info" id="qrgenerator" style="width: 40%;">
          <h3>Create QR</h3>
            <div>
              <label for="usr" class="text-dark"></label>
              <br>
              <input type="text" class="form-control" id="FullName" name="username" placeholder="FullName" >
              <br>
              <input type="text" class="form-control" id="StudentNo" name="username" placeholder="Student No" >
              <br>
              <input type="text" class="form-control" id="CellphoneNo" name="username" placeholder="CellphoneNo" >
              <div class="btn" style="display: flex; justify-content: center; gap: 50px; ">
                <a href="javascript:void(0)" class="btn btn-primary btn-lg my-4" onclick="generate();">Create-QR</a>
                <a style="margin-top: 35px;" href="/teacher/teacherView-Attendance.html">Back to Qr attendance?</a>
              </div>
            </div>
          </div>
          <div class="qr-box alert alert-info" id="dBtn">
            <div id="placeHolder"> </div>
            <canvas id="myCanvas"> </canvas>
            <br>
            <div class="btn" style="display: flex; justify-content: center;">
              <a href="#" class="btn btn-danger btn-lg my-4" onclick="downloadQrCode(this);" download="QRcode.png"> Download
              </a>
            </div>
          </div>
        </div>
    </div>
    <script>
        function generate(){  
    var typeNumber = 4;  
    var errorCorrectionLevel = 'L';  
    var qr = qrcode(typeNumber, errorCorrectionLevel);  
    var inputText = document.getElementById('FullName').value;
    var StudentNo = document.getElementById('StudentNo').value;
    var CellphoneNo = document.getElementById('CellphoneNo').value;  
    qr.addData(inputText);
    qr.addData(StudentNo);
    qr.addData(CellphoneNo);  
    qr.make();  
    document.getElementById('placeHolder').innerHTML = qr.createImgTag();  
    canvasScreen();  
  }  
  downloadQrCode =function (el){  
    var canvas = document.getElementById("myCanvas");  
    var image = canvas.toDataURL("image/png");  
    el.href = image;  
  };  
  function canvasScreen() {  
    var a = document.getElementsByTagName("img")[0];  
    a.setAttribute("id","qrcode");    
    var canvas = document.getElementById("myCanvas");  
    var ctx = canvas.getContext("2d");  
    var img = document.getElementById("qrcode"); 
    ctx.drawImage(img,70,0,150,150);  
  document.getElementById("dBtn").style.display = "block";  
  }  
    </script>
      <script src="../javascript/teacher/home-teacher.js"></script>
</body>
</html>